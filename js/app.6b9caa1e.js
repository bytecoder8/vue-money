(function(e){function t(t){for(var n,o,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);p&&p(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(c.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},c=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-00470265":"c8e7b19a","chunk-10b86dd9":"e6c955fb","chunk-1c435776":"0fb90f79","chunk-2d0ceb92":"1c423abf","chunk-2d0d05dc":"b806d9ed","chunk-2d22d746":"5e032cbc","chunk-5f4ad635":"edc5db46","chunk-6ecc2d95":"d038e04e","chunk-c420df12":"8d8219fa"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=o(e);var u=new Error;c=function(t){s.onerror=s.onload=null,clearTimeout(l);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+c+")",u.name="ChunkLoadError",u.type=n,u.request=c,r[1](u)}a[e]=void 0}};var l=setTimeout((function(){c({type:"timeout",target:s})}),12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-money/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var p=u;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"3b9f":function(e,t,r){"use strict";t["a"]={"auth/lost":"Вы вышли из системы",login:"Пожалуйста, войдите в систему",logout:"Вы вышли из системы","auth/user-not-found":"Пользователь не найден","auth/email-already-in-use":"Email уже используется","auth/wrong-password":"Неправильный пароль","currency-error":"Ошибка получения курса валют","category-created":"Категория создана","record-created":"Запись добавлена"}},"56d7":function(e,t,r){"use strict";r.r(t);r("4de4"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("1dce"),c=r.n(a),o=r("8832"),i=r.n(o),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r(e.layout,{tag:"component"})],1)},u=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"grey darken-1 empty-layout"},[r("router-view")],1)},p=[],d=r("2877"),f={},h=Object(d["a"])(f,l,p,!1,null,null,null),m=h.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-main-layout"},[r("Navbar",{on:{"menu-click":function(t){e.isMenuOpen=!e.isMenuOpen}}}),r("Sidebar",{attrs:{isOpen:e.isMenuOpen}}),r("main",{staticClass:"app-content",class:{full:!e.isMenuOpen}},[r("div",{staticClass:"app-page"},[r("router-view")],1)]),r("div",{staticClass:"fixed-action-btn"},[r("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Добавить новую запись",expression:"'Добавить новую запись'",arg:"left"}],staticClass:"btn-floating btn-large blue",attrs:{to:"/record"}},[r("i",{staticClass:"large material-icons"},[e._v("add")])])],1)],1)},v=[],g=(r("a4d3"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("96cf"),r("ade3")),y=r("2f62"),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar orange lighten-1"},[r("div",{staticClass:"nav-wrapper"},[r("div",{staticClass:"navbar-left"},[r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("menu-click")}}},[r("i",{staticClass:"material-icons black-text"},[e._v("dehaze")])]),r("span",{staticClass:"black-text"},[e._v(e._s(e._f("date")(e.date,"datetime")))])]),r("ul",{staticClass:"right hide-on-small-and-down"},[r("li",[r("a",{ref:"dropdown",staticClass:"dropdown-trigger black-text",attrs:{href:"#","data-target":"dropdown"}},[e._v(" "+e._s(e.name)+" "),r("i",{staticClass:"material-icons right"},[e._v("arrow_drop_down")])]),r("ul",{staticClass:"dropdown-content",attrs:{id:"dropdown"}},[r("li",[r("router-link",{staticClass:"black-text",attrs:{to:"/profile"}},[r("i",{staticClass:"material-icons"},[e._v("account_circle")]),e._v("Профиль ")])],1),r("li",{staticClass:"divider",attrs:{tabindex:"-1"}}),r("li",[r("a",{staticClass:"black-text",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[r("i",{staticClass:"material-icons"},[e._v("assignment_return")]),e._v("Выйти ")])])])])])])])},O=[];r("b0c0");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){Object(g["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={data:function(){return{date:new Date,dropdown:null,interval:null}},computed:_({},Object(y["b"])({name:function(e){return e.info.info.name}})),mounted:function(){var e=this;this.dropdown=window.M.Dropdown.init(this.$refs.dropdown,{constrainWidth:!1}),this.interval=setInterval((function(){e.date=new Date}),1e3)},beforeDestroy:function(){clearInterval(this.interval),this.dropdown&&this.dropdown.destroy&&this.dropdown.destroy()},methods:{logout:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.dispatch("logout"));case 2:this.$router.push("/login?message=logout");case 3:case"end":return e.stop()}}),null,this)}}},E=x,P=Object(d["a"])(E,w,O,!1,null,null,null),k=P.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"sidenav app-sidenav",class:{open:e.isOpen}},e._l(e.links,(function(t){return r("router-link",{key:t.to,attrs:{tag:"li","active-class":"active",to:t.to,exact:t.exact}},[r("a",{staticClass:"waves-effect waves-orange pointer",attrs:{href:"#"}},[e._v(e._s(t.title))])])})),1)},C=[],D={data:function(){return{links:[{title:"Счет",to:"/",exact:!0},{title:"История",to:"/history"},{title:"Планирование",to:"/planning"},{title:"Новая запись",to:"/record"},{title:"Категории",to:"/categories"}]}},props:["isOpen"]},U=D,I=Object(d["a"])(U,R,C,!1,null,null,null),S=I.exports;function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){Object(g["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B={components:{Navbar:k,Sidebar:S},data:function(){return{isMenuOpen:!0}},computed:$({},Object(y["b"])({info:function(e){return e.info.info}})),mounted:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==Object.keys(this.info).length){e.next=3;break}return e.next=3,regeneratorRuntime.awrap(this.$store.dispatch("fetchInfo"));case 3:case"end":return e.stop()}}),null,this)}},M=B,V=Object(d["a"])(M,b,v,!1,null,null,null),F=V.exports,L=r("3b9f"),N={computed:{layout:function(){return(this.$route.meta.layout||"empty")+"-layout"},error:function(){return this.$store.state.error}},components:{EmptyLayout:m,MainLayout:F},watch:{error:function(e){this.$error(L["a"][e.code||e.message||e]||"Что-то пошло не так")}}},T=N,H=(r("5c0b"),Object(d["a"])(T,s,u,!1,null,null,null)),z=H.exports,J=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},W=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-loader"},[r("div",{staticClass:"preloader-wrapper active"},[r("div",{staticClass:"spinner-layer spinner-blue"},[r("div",{staticClass:"circle-clipper left"},[r("div",{staticClass:"circle"})]),r("div",{staticClass:"gap-patch"},[r("div",{staticClass:"circle"})]),r("div",{staticClass:"circle-clipper right"},[r("div",{staticClass:"circle"})])])])])}],q={},K=Object(d["a"])(q,J,W,!1,null,null,null),Y=K.exports,G=r("9483");Object(G["a"])("".concat("/vue-money/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("99af");var Q=r("8c4f"),X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"page-title"},[r("h3",[e._v("Счет")]),r("button",{staticClass:"btn waves-effect waves-light btn-small",on:{click:e.refresh}},[r("i",{staticClass:"material-icons"},[e._v("refresh")])])]),e.loading?r("Loader"):r("div",{staticClass:"row"},[r("HomeBill",{attrs:{rates:e.currency.rates}}),r("HomeCurrency",{attrs:{rates:e.currency.rates,date:e.currency.date}})],1)],1)},Z=[],ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col s12 m6 l4"},[r("div",{staticClass:"card light-blue bill-card"},[r("div",{staticClass:"card-content white-text"},[r("span",{staticClass:"card-title"},[e._v("Счет в валюте")]),e._l(e.currencies,(function(t){return r("p",{key:t,staticClass:"currency-line"},[r("span",[e._v(e._s(e._f("currency")(e.getInCurrency(t),t)))])])}))],2)])])},te=[];function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){Object(g["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae={data:function(){return{currencies:["RUB","USD","EUR"]}},props:{rates:Object},computed:ne({},Object(y["b"])({bill:function(e){return e.info.info.bill}})),methods:{getInCurrency:function(e){return this.bill/this.rates[e]}}},ce=ae,oe=Object(d["a"])(ce,ee,te,!1,null,null,null),ie=oe.exports,se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col s12 m6 l8"},[r("div",{staticClass:"card orange darken-3 bill-card"},[r("div",{staticClass:"card-content white-text"},[e._m(0),r("table",[e._m(1),r("tbody",e._l(e.currencies,(function(t){return r("tr",{key:t},[r("td",[e._v(e._s(t))]),r("td",[e._v(e._s(e.rates[t]))]),r("td",[e._v(e._s(e._f("date")(e.date,"datetime")))])])})),0)])])])])},ue=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header"},[r("span",{staticClass:"card-title"},[e._v("Курс валют")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Валюта")]),r("th",[e._v("Курс")]),r("th",[e._v("Дата")])])])}],le={data:function(){return{currencies:["RUB","USD","EUR"]}},props:{rates:Object,date:Date}},pe=le,de=Object(d["a"])(pe,se,ue,!1,null,null,null),fe=de.exports,he={name:"home",data:function(){return{loading:!0,currency:{rates:{RUB:1},date:null}}},mounted:function(){this.loadCurrencyData()},methods:{loadCurrencyData:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading||(this.loading=!0),e.next=3,regeneratorRuntime.awrap(this.$store.dispatch("fetchCurrency"));case 3:this.currency=e.sent,this.loading=!1;case 5:case"end":return e.stop()}}),null,this)},refresh:function(){this.loadCurrencyData()}},components:{HomeBill:ie,HomeCurrency:fe}},me=he,be=Object(d["a"])(me,X,Z,!1,null,null,null),ve=be.exports,ge=r("59ca"),ye=r.n(ge);n["a"].use(Q["a"]);var we=[{path:"/",name:"home",component:ve,meta:{layout:"main",auth:!0,title:"Главная"}},{path:"/login",name:"login",meta:{layout:"empty",title:"Вход"},component:function(){return r.e("chunk-5f4ad635").then(r.bind(null,"a55b"))}},{path:"/register",name:"register",meta:{layout:"empty",title:"Регистрация"},component:function(){return r.e("chunk-c420df12").then(r.bind(null,"73cf"))}},{path:"/categories",name:"categories",meta:{layout:"main",auth:!0,title:"Категории"},component:function(){return r.e("chunk-10b86dd9").then(r.bind(null,"58c2"))}},{path:"/history",name:"history",meta:{layout:"main",auth:!0,title:"История"},component:function(){return r.e("chunk-00470265").then(r.bind(null,"e4bb"))}},{path:"/planning",name:"planning",meta:{layout:"main",auth:!0,title:"Планирование"},component:function(){return r.e("chunk-2d0d05dc").then(r.bind(null,"6859"))}},{path:"/record",name:"record",meta:{layout:"main",auth:!0,title:"Добавить запись"},component:function(){return r.e("chunk-1c435776").then(r.bind(null,"43ef"))}},{path:"/detail/:id",name:"detail",meta:{layout:"main",auth:!0,title:"Страница записи"},component:function(){return r.e("chunk-2d0ceb92").then(r.bind(null,"6156"))}},{path:"/profile",name:"profile",meta:{layout:"main",auth:!0,title:"Профиль"},component:function(){return r.e("chunk-6ecc2d95").then(r.bind(null,"c66d"))}},{path:"/about",name:"about",meta:{layout:"main",title:"О программе"},component:function(){return r.e("chunk-2d22d746").then(r.bind(null,"f820"))}}],Oe=new Q["a"]({mode:"history",base:"/vue-money/",routes:we});Oe.beforeEach((function(e,t,r){var n=e.matched.some((function(e){return e.meta.auth}));if(n){var a=ye.a.auth().currentUser;a?r():r("/login?message=login")}else r()})),Oe.afterEach((function(e){var t="Money",r=e.meta&&e.meta.title||"Страница";document.title="".concat(r," | ").concat(t)}));var je=Oe,_e={actions:{login:function(e,t){var r,n,a;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return r=e.commit,n=t.email,a=t.password,c.prev=2,c.next=5,regeneratorRuntime.awrap(ye.a.auth().signInWithEmailAndPassword(n,a));case 5:c.next=11;break;case 7:throw c.prev=7,c.t0=c["catch"](2),r("setError",c.t0),c.t0;case 11:case"end":return c.stop()}}),null,null,[[2,7]])},register:function(e,t){var r,n,a,c,o,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return r=e.commit,n=e.dispatch,a=t.email,c=t.password,o=t.name,s.prev=2,s.next=5,regeneratorRuntime.awrap(ye.a.auth().createUserWithEmailAndPassword(a,c));case 5:return s.next=7,regeneratorRuntime.awrap(n("getUid"));case 7:return i=s.sent,s.next=10,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(i,"/info")).set({bill:1e4,name:o}));case 10:s.next=16;break;case 12:throw s.prev=12,s.t0=s["catch"](2),r("setError",s.t0),s.t0;case 16:case"end":return s.stop()}}),null,null,[[2,12]])},getUid:function(e){e.commit;var t=ye.a.auth().currentUser;if(!t)throw je.push("/login").catch((function(e){return!1})),new Error("auth/lost");return t.uid},logout:function(e){var t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t=e.commit,r.next=3,regeneratorRuntime.awrap(ye.a.auth().signOut());case 3:t("clearInfo");case 4:case"end":return r.stop()}}))}}};function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Object(g["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pe={state:{info:{}},mutations:{setInfo:function(e,t){e.info=t},clearInfo:function(e){e.info={}}},actions:{fetchInfo:function(e){var t,r,n,a;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return t=e.dispatch,r=e.commit,c.prev=1,c.next=4,regeneratorRuntime.awrap(t("getUid"));case 4:return n=c.sent,c.next=7,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(n,"/info")).once("value"));case 7:a=c.sent.val(),r("setInfo",a),c.next=15;break;case 11:throw c.prev=11,c.t0=c["catch"](1),r("setError",c.t0),c.t0;case 15:case"end":return c.stop()}}),null,null,[[1,11]])},updateInfo:function(e,t){var r,n,a,c,o;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.commit,n=e.dispatch,a=e.state,i.prev=1,i.next=4,regeneratorRuntime.awrap(n("getUid"));case 4:return c=i.sent,o=Ee({},a.info,{},t),i.next=8,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(c,"/info")).update(o));case 8:r("setInfo",o),i.next=15;break;case 11:throw i.prev=11,i.t0=i["catch"](1),r("setError",i.t0),i.t0;case 15:case"end":return i.stop()}}),null,null,[[1,11]])}}};r("d81d");function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Object(g["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ce={actions:{fetchCategories:function(e){var t,r,n,a;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return t=e.dispatch,r=e.commit,c.prev=1,c.next=4,regeneratorRuntime.awrap(t("getUid"));case 4:return n=c.sent,c.next=7,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(n,"/categories")).once("value"));case 7:if(c.t0=c.sent.val(),c.t0){c.next=10;break}c.t0={};case 10:return a=c.t0,c.abrupt("return",Object.keys(a).map((function(e){return Re({},a[e],{id:e})})));case 14:throw c.prev=14,c.t1=c["catch"](1),r("setError",c.t1),c.t1;case 18:case"end":return c.stop()}}),null,null,[[1,14]])},createCategory:function(e,t){var r,n,a,c,o,i,s;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:return r=e.commit,n=e.dispatch,a=t.name,c=t.limit,o=t.type,u.prev=2,c=+c,u.next=6,regeneratorRuntime.awrap(n("getUid"));case 6:return i=u.sent,u.next=9,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(i,"/categories")).push({name:a,limit:c,type:o}));case 9:return s=u.sent,u.abrupt("return",{id:s.key,name:a,limit:c,type:o});case 13:throw u.prev=13,u.t0=u["catch"](2),r("setError",u.t0),u.t0;case 17:case"end":return u.stop()}}),null,null,[[2,13]])},updateCategory:function(e,t){var r,n,a,c,o,i,s;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:return r=e.commit,n=e.dispatch,a=t.name,c=t.limit,o=t.type,i=t.id,u.prev=2,c=+c,u.next=6,regeneratorRuntime.awrap(n("getUid"));case 6:return s=u.sent,u.next=9,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(s,"/categories")).child(i).update({name:a,limit:c,type:o}));case 9:u.next=15;break;case 11:throw u.prev=11,u.t0=u["catch"](2),r("setError",u.t0),u.t0;case 15:case"end":return u.stop()}}),null,null,[[2,11]])},fetchCategoryById:function(e,t){var r,n,a,c;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r=e.dispatch,n=e.commit,o.prev=1,o.next=4,regeneratorRuntime.awrap(r("getUid"));case 4:return a=o.sent,o.next=7,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(a,"/categories/").concat(t)).once("value"));case 7:return c=o.sent.val(),o.abrupt("return",Re({},c,{id:c.key}));case 11:throw o.prev=11,o.t0=o["catch"](1),n("setError",o.t0),o.t0;case 15:case"end":return o.stop()}}),null,null,[[1,11]])}}};function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){Object(g["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ie={actions:{createRecord:function(e,t){var r,n,a,c,o,i,s,u,l,p,d;return regeneratorRuntime.async((function(f){while(1)switch(f.prev=f.next){case 0:return r=e.commit,n=e.dispatch,a=e.rootState,c=t.name,o=t.amount,i=t.categoryId,s=t.date,f.prev=2,o=+o,f.next=6,regeneratorRuntime.awrap(n("getUid"));case 6:return u=f.sent,f.next=9,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(u,"/records/")).push({name:c,amount:o,date:s,categoryId:i}));case 9:return l=f.sent,f.next=12,regeneratorRuntime.awrap(n("fetchInfo"));case 12:return f.next=14,regeneratorRuntime.awrap(n("fetchCategoryById",i));case 14:return p=f.sent,d=+a.info.info.bill+("income"===p.type?o:-o),f.next=18,regeneratorRuntime.awrap(n("updateInfo",{bill:d}));case 18:return f.abrupt("return",{id:l.key,name:c,amount:o,categoryId:i,date:s});case 21:throw f.prev=21,f.t0=f["catch"](2),r("setError",f.t0),f.t0;case 25:case"end":return f.stop()}}),null,null,[[2,21]])},fetchRecords:function(e){var t,r,n,a;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return t=e.dispatch,r=e.commit,c.prev=1,c.next=4,regeneratorRuntime.awrap(t("getUid"));case 4:return n=c.sent,c.next=7,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(n,"/records")).once("value"));case 7:if(c.t0=c.sent.val(),c.t0){c.next=10;break}c.t0={};case 10:return a=c.t0,c.abrupt("return",Object.keys(a).map((function(e){return Ue({},a[e],{id:e})})));case 14:throw c.prev=14,c.t1=c["catch"](1),r("setError",c.t1),c.t1;case 18:case"end":return c.stop()}}),null,null,[[1,14]])},fetchRecordById:function(e,t){var r,n,a,c;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r=e.dispatch,n=e.commit,o.prev=1,o.next=4,regeneratorRuntime.awrap(r("getUid"));case 4:return a=o.sent,o.next=7,regeneratorRuntime.awrap(ye.a.database().ref("/users/".concat(a,"/records/").concat(t)).once("value"));case 7:return c=o.sent.val(),o.abrupt("return",Ue({},c,{id:c.key}));case 11:throw o.prev=11,o.t0=o["catch"](1),n("setError",o.t0),o.t0;case 15:case"end":return o.stop()}}),null,null,[[1,11]])}}};n["a"].use(y["a"]);var Se=new y["a"].Store({state:{error:null},mutations:{setError:function(e,t){e.error=t},clearError:function(e){e.error=null}},actions:{fetchCurrency:function(e){var t,r,n,a;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return t=e.commit,c.prev=1,c.next=4,regeneratorRuntime.awrap(fetch("https://www.cbr-xml-daily.ru/daily_json.js"));case 4:return r=c.sent,c.next=7,regeneratorRuntime.awrap(r.json());case 7:return n=c.sent,a={rates:{RUB:1,EUR:n["Valute"]["EUR"]["Value"],USD:n["Valute"]["USD"]["Value"]},date:new Date(n["Date"])},c.abrupt("return",a);case 12:throw c.prev=12,c.t0=c["catch"](1),t("setError",c.t0),c.t0;case 16:case"end":return c.stop()}}),null,null,[[1,12]])}},modules:{auth:_e,info:Pe,category:Ce,record:Ie}});r("caad"),r("2532");function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",r={};return t.includes("date")&&(r.day="2-digit",r.month="long",r.year="numeric"),t.includes("time")&&(r.hour="2-digit",r.minute="2-digit",r.second="2-digit"),new Intl.DateTimeFormat("ru-RU",r).format(new Date(e))}for(var $e=r("62ed"),Be={install:function(e){e.prototype.$message=function(e){window.M.toast({html:e})},e.prototype.$error=function(e){window.M.toast({html:"[ Ошибка ]: ".concat(e)})}}},Me={bind:function(e,t){var r=t.value,n=t.arg;window.M.Tooltip.init(e,{html:r,position:n||"center"})},unbind:function(e){var t=window.M.Tooltip.getInstance(e);t&&t.destroy&&t.destroy()}},Ve=(r("ea7b"),r("66ce"),["apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId"]),Fe={},Le=0,Ne=Ve;Le<Ne.length;Le++){var Te=Ne[Le];Fe[Te]=Object({NODE_ENV:"production",VUE_APP_FIREBASE_apiKey:"AIzaSyAYgJ23E9bUnOb7raEjEjm1CUnay6kLINM",VUE_APP_FIREBASE_appId:"1:25121928774:web:b514b279219ce7968ebc47",VUE_APP_FIREBASE_authDomain:"vuex-finances.firebaseapp.com",VUE_APP_FIREBASE_databaseURL:"https://vuex-finances.firebaseio.com",VUE_APP_FIREBASE_messagingSenderId:"25121928774",VUE_APP_FIREBASE_projectId:"vuex-finances",VUE_APP_FIREBASE_storageBucket:"vuex-finances.appspot.com",VUE_APP_TITLE:"Money",BASE_URL:"/vue-money/"})["VUE_APP_FIREBASE_"+Te]}var He,ze=Fe;n["a"].config.productionTip=!1,n["a"].use(c.a),n["a"].component("Paginate",i.a),n["a"].use(Be),n["a"].filter("date",Ae),n["a"].filter("currency",$e["a"]),n["a"].directive("tooltip",Me),n["a"].component("Loader",Y),ye.a.initializeApp(ze),ye.a.auth().onAuthStateChanged((function(){He||(He=new n["a"]({router:je,store:Se,render:function(e){return e(z)}}).$mount("#app"))}))},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"62ed":function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RUB";return new Intl.NumberFormat("ru-RU",{style:"currency",currency:t}).format(e)}r.d(t,"a",(function(){return n}))},"9c0c":function(e,t,r){}});
//# sourceMappingURL=app.6b9caa1e.js.map