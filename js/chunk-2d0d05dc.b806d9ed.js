(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d05dc"],{6859:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"page-title"},[r("h3",[e._v("Планирование")]),r("h4",[e._v(e._s(e._f("currency")(e.info.bill)))])]),e.loading?r("Loader"):e.categories.length?r("section",e._l(e.categories,(function(t){return r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"cat.tooltip"}],key:t.id},[r("p",[r("strong",[e._v(e._s(t.name)+":")]),e._v(" "+e._s(e._f("currency")(t.spend))+" из "+e._s(e._f("currency")(t.limit))+" ")]),r("div",{staticClass:"progress"},[r("div",{staticClass:"determinate",class:t.color,style:{width:t.percent+"%"}})])])})),0):r("p",{staticClass:"center"},[e._v(" Категорий пока нет. "),r("router-link",{attrs:{to:"/categories"}},[e._v("Добавить новую")])],1)],1)},i=[],c=(r("a4d3"),r("4de4"),r("d81d"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("96cf"),r("ade3")),o=r("2f62"),s=r("62ed");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={data:function(){return{loading:!0,categories:[]}},computed:u({},Object(o["b"])({info:function(e){return e.info.info}})),mounted:function(){var e,t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.$store.dispatch("fetchCategories"));case 2:return e=r.sent,r.next=5,regeneratorRuntime.awrap(this.$store.dispatch("fetchRecords"));case 5:t=r.sent,this.categories=e.filter((function(e){return"charge"===e.type})).map((function(e){var r=t.filter((function(t){return t.categoryId===e.id})).reduce((function(e,t){return e+ +t.amount}),0),n=Math.min(r/e.limit*100,100),i=n<60?"green":n<100?"yellow":"red",c=e.limit-r,o=(c<0?"Превысили на ":"Осталось ")+Object(s["a"])(Math.abs(c));return u({},e,{spend:r,percent:n,color:i,tooltip:o})})),this.loading=!1;case 8:case"end":return r.stop()}}),null,this)}},p=l,d=r("2877"),f=Object(d["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0d05dc.b806d9ed.js.map